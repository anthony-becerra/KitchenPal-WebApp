"use strict";$(document).ready(function(){$("#recipe_result:empty").parent().hide();const n=$("#recipe_form");let t=1;n.find("button#AddIngredient").click(function(i){i.preventDefault();const r=n.find("#ingredients_list #ing_0").html();let u=r.replace(/_0/g,`_${t}`);n.find("#ingredients_list").append(`<div class="ingredient" id="ing_${t}">${u}</div>`);t++});n.submit(function(t){t.preventDefault();let i={};i.name=n.find("#recipe_name").val();i.desc=n.find("#recipe_desc").val();i.origin_ss=n.find("#origin_ss").val();i.desired_ss=n.find("#desired_ss").val();i.ingredients={};let r=0;n.find(".ingredient").each(function(){i.ingredients[this.id]={};let t=i.ingredients[this.id],u=n.find(`.ingredient#${this.id}`);t.ingredient=u.find(`#ing_${r}`).val();t.measurement=u.find(`#meas_${r}`).val();t.quantity=u.find(`#qty_${r}`).val();r++});$.ajax({url:"/Form/AddForm",type:"POST",data:i,success:function(n){console.log(n);$("#recipe_result").html(`
                    
                    <h1 class="text-center">Recipe Name: ${n.name}</h1>
                    <h3 class="text-center">Recipe Description: ${n.desc}</h3>
                    <hr class="divider">
                    <h4 class="text-center">Original Serving Size: ${n.origin_ss} | Desired Serving Size: ${n.desired_ss}</h4>
                    <hr class="divider">
                    <ul>
                `);for(let t in n.ingredients){let i=n.ingredients[t];$("#recipe_result").append(`<li>${parseFloat(i.quantity).toFixed(2)} ${i.measurement} ${i.ingredient}</li>`)}$("#recipe_result").append(`</ul>`)}})})});